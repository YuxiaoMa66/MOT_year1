"0","# Function to build the logistic regression model"
"0","library(glmnet)"
"0",""
"0","# 定义函数"
"0","train_and_predict_logistic_regression <- function(train_data, test_data, predictor_col, lambda = 1) {"
"0","  # 准备训练数据"
"0","  y_train <- train_data[[predictor_col]]"
"0","  x_train <- as.matrix(train_data[, setdiff(names(train_data), predictor_col)])"
"0","  "
"0","  # 准备测试数据"
"0","  y_test <- test_data[[predictor_col]]"
"0","  x_test <- as.matrix(test_data[, setdiff(names(test_data), predictor_col)])"
"0","  "
"0","  # 使用L2正则化训练逻辑回归模型"
"0","  model <- glmnet(x_train, y_train, family = ""binomial"", alpha = 0, lambda = lambda)"
"0","  "
"0","  # 预测测试数据集"
"0","  predictions <- predict(model, newx = x_test, type = ""class"")"
"0","  "
"0","  # 计算准确率"
"0","  accuracy <- mean(predictions == y_test)"
"0","  "
"0","  return(accuracy)"
"0","}"
"0",""
"0",""
