"0","# Function to add the new variable ""leaf_mean"" to the testing data's dataframe column by using the mean_value from the training data's leaf node"
"0","# which means for the same path, we use the same mean_value for the testing data in the column ""leaf_mean"""
"0","add_leaf_mean <- function(test_data, train_data_list) {"
"0","  test_data$leaf_mean <- NA"
"0","  "
"0","  for (i in seq(length(train_data_list))) {"
"0","    conditions <- leaves_data[2*i]$path"
"0","    mean_value <- train_data_list[[i]]$leaf_mean"
"0","    "
"0","    for (condition in conditions) {"
"0","      parts <- strsplit(condition, "" = "")[[1]]"
"0","      variable <- parts[1]"
"0","      value <- as.numeric(parts[2])"
"0","      "
"0","      test_data$leaf_mean[test_data[[variable]] == value] <- mean_value"
"0","    }"
"0","  }"
"0","  "
"0","  return(test_data)"
"0","}"
"0",""
